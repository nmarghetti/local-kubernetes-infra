<h1 style="color: #4485b8;">Here is the list of all services</h1>
<p></p>
<p><strong>Direct access from docker compose</strong></p>
<ul>
<li>This nginx home - <a href="http://localhost:8081/" target="_blank" rel="noopener">http://localhost:8081/</a></li>
<li>Portainer - <a href="http://localhost:9400/" target="_blank" rel="noopener">http://localhost:9400/</a></li>
<li>Gitea - <a href="http://localhost:3000/" target="_blank" rel="noopener">http://localhost:3000/</a></li>
<li>Docker registry - <a href="http://localhost:8087/" target="_blank" rel="noopener">http://localhost:8087/</a></li>
<li>Helm registry - <a href="http://localhost:8088/api/charts" target="_blank" rel="noopener">http://localhost:8088/api/charts</a></li>
<li>Whoami - <a href="http://localhost:9080/" target="_blank" rel="noopener">http://localhost:9080/</a></li>
<li>Podinfo - <a href="http://localhost:9898/" target="_blank" rel="noopener">http://localhost:9898/</a></li>
<li>Dkd - <a href="http://localhost:8100/dkd/docs" target="_blank" rel="noopener">http://localhost:8100/dkd/docs/</a></li>
<li>Traefik dashboard - <a href="http://localhost:8080/" target="_blank" rel="noopener">http://localhost:8080/</a></li>
<li>Dnsmasq - <a href="http://localhost:3053/" target="_blank" rel="noopener">http://localhost:3053/</a></li>
<li>Minikube kubernetes server api - <a href="https://localhost:32771/version" target="_blank" rel="noopener">https://localhost:32771/version</a></li>
</ul>
<p><strong>Access if traefik in docker compose is activated</strong></p>
<ul>
<li>This nginx home - <a href="http://localhost/" target="_blank" rel="noopener">http://localhost/</a></li>
<li>Portainer - <a href="http://portainer.docker.localhost/" target="_blank" rel="noopener">http://portainer.docker.localhost/</a></li>
<li>Gitea - <a href="http://gitea.docker.localhost/" target="_blank" rel="noopener">http://gitea.docker.localhost/</a></li>
<li>Docker registry - <a href="http://registry-ui.docker.localhost/" target="_blank" rel="noopener">http://registry-ui.docker.localhost/</a></li>
<li>Helm registry - <a href="http://helm.docker.localhost/api/charts" target="_blank" rel="noopener">http://helm.docker.localhost/api/charts</a></li>
<li>Whoami - <a href="http://whoami.docker.localhost/" target="_blank" rel="noopener">http://whoami.docker.localhost/</a></li>
<li>Podinfo - <a href="http://podinfo.docker.localhost/" target="_blank" rel="noopener">http://podinfo.docker.localhost/</a></li>
<li>Traefik dashboard - <a href="http://traefik.docker.localhost/" target="_blank" rel="noopener">http://traefik.docker.localhost/</a></li>
</ul>
<p><strong>Access to minikube kubernetes server api if minikube, nginx and traefik are started</strong></p>
<ul>
<li>Minikube k8s - <a href="http://nginx-k8s.localhost/version" target="_blank" rel="noopener">http://nginx-k8s.localhost/version</a> - <a href="http://localhost/nginx-k8s/version" target="_blank" rel="noopener">http://localhost/nginx-k8s/version</a></li>
</ul>
<p><strong>Access to minikube cluster dashboard</strong></p>
<p>If you added the parameter --minikube-dashboard</p>
<ul>
<li>Minikube dashboard - <a href="http://localhost:8083/api/v1/namespaces/kubernetes-dashboard/services/http:kubernetes-dashboard:/proxy/#/workloads?namespace=_all" target="_blank" rel="noopener">http://localhost:8083/api/v1/namespaces/kubernetes-dashboard/services/http:kubernetes-dashboard:/proxy/#/workloads?namespace=_all</a></li>
</ul>
<p><strong>Access to minikube cluster directly through traefik from docker compose</strong></p>
<p>You can run the traefik-minikube-vault-helm flux playground with the following command: <code>PODINFO_UI_MESSAGE='Hello from minikube local cluster' ./start.sh --minikube --gitea-webhook --flux-image-automation --flux-path k8s/flux-playground/traefik-minikube-vault-helm --minikube-addons "ingress ingress-dns" --minikube-dns 1 --docker-services gitea,registry,registry-ui,helm,dnsmasq,dkd,nginx,traefik </code></p>
<ul>
<li>Traefik dashboard - <a href="http://dashboard.traefik.minikube.localhost/dashboard/" target="_blank" rel="noopener">http://dashboard.traefik.minikube.localhost/dashboard/</a></li>
<li>Whoami - <a href="http://whoami.traefik.minikube.localhost/" target="_blank" rel="noopener">http://whoami.traefik.minikube.localhost/</a></li>
<li>Podinfo - <a href="http://podinfo.traefik.minikube.localhost/" target="_blank" rel="noopener">http://podinfo.traefik.minikube.localhost/</a></li>
<li>Nginx server with automatic docker image update from flux - <a href="http://flux-automated.traefik.minikube.localhost/" target="_blank" rel="noopener">http://flux-automated.traefik.minikube.localhost/</a></li>
<li>Flux webhook - <a href="http://flux-webhook.traefik.minikube.localhost/" target="_blank" rel="noopener">http://flux-webhook.traefik.minikube.localhost/ (that works only with POST method, you can try this to notify flux to reconciliate: <code>curl -sSf -X POST "http://flux-webhook.traefik.minikube.localhost/hook/254ac6f85aab9ac284f9990b5349623be0c3471ff894abc568dc28d3419cd49e" -H 'accept: application/json' -H 'Content-Type: application/json' -d '{"events": []}') </code></a></li>
</ul>
<p><strong>Access to minikube cluster, to be opened in browser through WSL</strong></p>
<p>You can run the minikube traefik flux playground with the following command: <code>./start.sh --minikube --flux-path k8s/flux-playground/traefik-minikube --docker-services "gitea helm dnsmasq"</code></p>
<ul>
<li>Traefik dashboard - <a href="http://dashboard.traefik.minikube/" target="_blank" rel="noopener">http://dashboard.traefik.minikube/</a></li>
<li>Whoami - <a href="http://whoami.traefik.minikube/" target="_blank" rel="noopener">http://whoami.traefik.minikube/</a></li>
</ul>
<p style="text-align: left;"></p>
<h2 style="text-align: left;"><strong>Troubleshooting</strong></h2>
<p style="text-align: left;">In case of error while trying to access to minikube cluster:</p>
<ul>
<li style="text-align: left;">Under WSL, check the access to podinfo with the following command: <code>nslookup podinfo.minikube</code></li>
<li style="text-align: left;">In case of error, restart dnsmasq with the following command: <code>./scripts/setup_dnsmasq.sh --minikube</code></li>
<li style="text-align: left;">If still in error, check dnsmasq status at <a href="http://localhost:3053/" target="_blank">http://localhost:3053/</a></li>
</ul>
<p style="text-align: left;"></p>
<p style="text-align: left;"></p>
<h1 style="color: #4485b8;">Runing localarch</h1>
<p></p>
<p>You can start it with the following command: <code>./docker_build.sh --scenario traefik-minikube-vault-helm --clean registry --services portainer,gitea,registry,registry-ui,helm,nginx,traefik</code></p>
<p>You would then be able to access localarch nginx home through <a href="http://localhost:30010/" target="_blank" rel="noopener">http://localhost:30010/</a> to explore its services (need to wait for localarch container to have finished with its entrypoint script).</p>
<p style="text-align: left;"></p>
<p style="text-align: left;"></p>
<p style="text-align: left;"></p>
<p style="text-align: center;">Generated with <a href="https://html6.com/editor/" target="_blank" rel="noopener">https://html6.com/editor/</a></p>
